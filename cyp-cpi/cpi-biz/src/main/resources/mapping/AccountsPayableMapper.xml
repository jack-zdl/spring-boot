<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ceying.chx.cpi.biz.rm.accountspayable.dao.AccountsPayableDao">
  <resultMap id="BaseResultMap" type="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable">
    <id column="URID" jdbcType="VARCHAR" property="urid" />
    <result column="TENANTID" jdbcType="VARCHAR" property="tenantid" />
    <result column="CONTRACTID" jdbcType="VARCHAR" property="contractid" />
    <result column="SUPPLIERID" jdbcType="VARCHAR" property="supplierid" />
    <result column="CORECOMPANYID" jdbcType="VARCHAR" property="corecompanyid" />
    <result column="BANKID" jdbcType="VARCHAR" property="bankid" />
    <result column="BILLDATE" jdbcType="VARCHAR" property="billdate" />
    <result column="AMOUNT" jdbcType="VARCHAR" property="amount" />
    <result column="PAYABLEDATE" jdbcType="VARCHAR" property="payabledate" />
    <result column="CREATEDBY" jdbcType="VARCHAR" property="createdby" />
    <result column="CREATEDON" jdbcType="VARCHAR" property="createdon" />
    <result column="LASTMODIFIEDBY" jdbcType="VARCHAR" property="lastmodifiedby" />
    <result column="LASTMODIFIEDON" jdbcType="VARCHAR" property="lastmodifiedon" />
    <result column="ROWVERSION" jdbcType="VARCHAR" property="rowversion" />
    <result column="DESCRIPTION" jdbcType="VARCHAR" property="description" />
    <result column="LASTOPERATIONFLAG" jdbcType="VARCHAR" property="lastoperationflag" />
    <result column="FINANCINGAMOUNT" jdbcType="VARCHAR" property="financingamount" />
    <result column="FINANCINGDATE" jdbcType="VARCHAR" property="financingdate" />
    <result column="ATTRIBUTE1" jdbcType="VARCHAR" property="attribute1" />
    <result column="ATTRIBUTE2" jdbcType="VARCHAR" property="attribute2" />
    <result column="ISACTIVE" jdbcType="VARCHAR" property="isactive" />
    <result column="PAYABLENO" jdbcType="VARCHAR" property="payableno" />
    <result column="FREEZEAMOUNT" jdbcType="VARCHAR" property="freezeamount" />
    <result column="CORECOMPANYSUPPLIERRATE" jdbcType="VARCHAR" property="corecompanysupplierrate" />
    <result column="ISFIRSTFINANCE" jdbcType="VARCHAR" property="isfirstfinance" />
    <result column="SECURITYDEPOSIT" jdbcType="VARCHAR" property="securitydeposit" />
    <result column="INVOICENUMBER" jdbcType="VARCHAR" property="invoicenumber" />
    <result column="EXPIRINGDATE" jdbcType="VARCHAR" property="expiringdate" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable">
    <result column="SIGNATURECONTENT" jdbcType="BLOB" property="signaturecontent" />
  </resultMap>
  <sql id="Base_Column_List">
    URID, TENANTID, CONTRACTID, SUPPLIERID, CORECOMPANYID, BANKID, BILLDATE, AMOUNT, 
    PAYABLEDATE, CREATEDBY, CREATEDON, LASTMODIFIEDBY, LASTMODIFIEDON, ROWVERSION, DESCRIPTION, 
    LASTOPERATIONFLAG, FINANCINGAMOUNT, FINANCINGDATE, ATTRIBUTE1, ATTRIBUTE2, ISACTIVE, 
    PAYABLENO, FREEZEAMOUNT, CORECOMPANYSUPPLIERRATE, ISFIRSTFINANCE, SECURITYDEPOSIT, 
    INVOICENUMBER, EXPIRINGDATE
  </sql>
  <sql id="Blob_Column_List">
    SIGNATURECONTENT
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="ResultMapWithBLOBs">
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from T_ACCOUNTSPAYABLE
    where URID = #{urid,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from T_ACCOUNTSPAYABLE
    where URID = #{urid,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable">
    insert into T_ACCOUNTSPAYABLE (URID, TENANTID, CONTRACTID, 
      SUPPLIERID, CORECOMPANYID, BANKID, 
      BILLDATE, AMOUNT, PAYABLEDATE, 
      CREATEDBY, CREATEDON, LASTMODIFIEDBY, 
      LASTMODIFIEDON, ROWVERSION, DESCRIPTION, 
      LASTOPERATIONFLAG, FINANCINGAMOUNT, FINANCINGDATE, 
      ATTRIBUTE1, ATTRIBUTE2, ISACTIVE, 
      PAYABLENO, FREEZEAMOUNT, CORECOMPANYSUPPLIERRATE, 
      ISFIRSTFINANCE, SECURITYDEPOSIT, INVOICENUMBER, 
      EXPIRINGDATE, SIGNATURECONTENT)
    values (#{urid,jdbcType=VARCHAR}, #{tenantid,jdbcType=VARCHAR}, #{contractid,jdbcType=VARCHAR}, 
      #{supplierid,jdbcType=VARCHAR}, #{corecompanyid,jdbcType=VARCHAR}, #{bankid,jdbcType=VARCHAR}, 
      #{billdate,jdbcType=VARCHAR}, #{amount,jdbcType=VARCHAR}, #{payabledate,jdbcType=VARCHAR}, 
      #{createdby,jdbcType=VARCHAR}, #{createdon,jdbcType=VARCHAR}, #{lastmodifiedby,jdbcType=VARCHAR}, 
      #{lastmodifiedon,jdbcType=VARCHAR}, #{rowversion,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, 
      #{lastoperationflag,jdbcType=VARCHAR}, #{financingamount,jdbcType=VARCHAR}, #{financingdate,jdbcType=VARCHAR}, 
      #{attribute1,jdbcType=VARCHAR}, #{attribute2,jdbcType=VARCHAR}, #{isactive,jdbcType=VARCHAR}, 
      #{payableno,jdbcType=VARCHAR}, #{freezeamount,jdbcType=VARCHAR}, #{corecompanysupplierrate,jdbcType=VARCHAR}, 
      #{isfirstfinance,jdbcType=VARCHAR}, #{securitydeposit,jdbcType=VARCHAR}, #{invoicenumber,jdbcType=VARCHAR}, 
      #{expiringdate,jdbcType=VARCHAR}, #{signaturecontent,jdbcType=BLOB})
  </insert>
  <insert id="insertSelective" parameterType="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable">
    insert into T_ACCOUNTSPAYABLE
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="urid != null">
        URID,
      </if>
      <if test="tenantid != null">
        TENANTID,
      </if>
      <if test="contractid != null">
        CONTRACTID,
      </if>
      <if test="supplierid != null">
        SUPPLIERID,
      </if>
      <if test="corecompanyid != null">
        CORECOMPANYID,
      </if>
      <if test="bankid != null">
        BANKID,
      </if>
      <if test="billdate != null">
        BILLDATE,
      </if>
      <if test="amount != null">
        AMOUNT,
      </if>
      <if test="payabledate != null">
        PAYABLEDATE,
      </if>
      <if test="createdby != null">
        CREATEDBY,
      </if>
      <if test="createdon != null">
        CREATEDON,
      </if>
      <if test="lastmodifiedby != null">
        LASTMODIFIEDBY,
      </if>
      <if test="lastmodifiedon != null">
        LASTMODIFIEDON,
      </if>
      <if test="rowversion != null">
        ROWVERSION,
      </if>
      <if test="description != null">
        DESCRIPTION,
      </if>
      <if test="lastoperationflag != null">
        LASTOPERATIONFLAG,
      </if>
      <if test="financingamount != null">
        FINANCINGAMOUNT,
      </if>
      <if test="financingdate != null">
        FINANCINGDATE,
      </if>
      <if test="attribute1 != null">
        ATTRIBUTE1,
      </if>
      <if test="attribute2 != null">
        ATTRIBUTE2,
      </if>
      <if test="isactive != null">
        ISACTIVE,
      </if>
      <if test="payableno != null">
        PAYABLENO,
      </if>
      <if test="freezeamount != null">
        FREEZEAMOUNT,
      </if>
      <if test="corecompanysupplierrate != null">
        CORECOMPANYSUPPLIERRATE,
      </if>
      <if test="isfirstfinance != null">
        ISFIRSTFINANCE,
      </if>
      <if test="securitydeposit != null">
        SECURITYDEPOSIT,
      </if>
      <if test="invoicenumber != null">
        INVOICENUMBER,
      </if>
      <if test="expiringdate != null">
        EXPIRINGDATE,
      </if>
      <if test="signaturecontent != null">
        SIGNATURECONTENT,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="urid != null">
        #{urid,jdbcType=VARCHAR},
      </if>
      <if test="tenantid != null">
        #{tenantid,jdbcType=VARCHAR},
      </if>
      <if test="contractid != null">
        #{contractid,jdbcType=VARCHAR},
      </if>
      <if test="supplierid != null">
        #{supplierid,jdbcType=VARCHAR},
      </if>
      <if test="corecompanyid != null">
        #{corecompanyid,jdbcType=VARCHAR},
      </if>
      <if test="bankid != null">
        #{bankid,jdbcType=VARCHAR},
      </if>
      <if test="billdate != null">
        #{billdate,jdbcType=VARCHAR},
      </if>
      <if test="amount != null">
        #{amount,jdbcType=VARCHAR},
      </if>
      <if test="payabledate != null">
        #{payabledate,jdbcType=VARCHAR},
      </if>
      <if test="createdby != null">
        #{createdby,jdbcType=VARCHAR},
      </if>
      <if test="createdon != null">
        #{createdon,jdbcType=VARCHAR},
      </if>
      <if test="lastmodifiedby != null">
        #{lastmodifiedby,jdbcType=VARCHAR},
      </if>
      <if test="lastmodifiedon != null">
        #{lastmodifiedon,jdbcType=VARCHAR},
      </if>
      <if test="rowversion != null">
        #{rowversion,jdbcType=VARCHAR},
      </if>
      <if test="description != null">
        #{description,jdbcType=VARCHAR},
      </if>
      <if test="lastoperationflag != null">
        #{lastoperationflag,jdbcType=VARCHAR},
      </if>
      <if test="financingamount != null">
        #{financingamount,jdbcType=VARCHAR},
      </if>
      <if test="financingdate != null">
        #{financingdate,jdbcType=VARCHAR},
      </if>
      <if test="attribute1 != null">
        #{attribute1,jdbcType=VARCHAR},
      </if>
      <if test="attribute2 != null">
        #{attribute2,jdbcType=VARCHAR},
      </if>
      <if test="isactive != null">
        #{isactive,jdbcType=VARCHAR},
      </if>
      <if test="payableno != null">
        #{payableno,jdbcType=VARCHAR},
      </if>
      <if test="freezeamount != null">
        #{freezeamount,jdbcType=VARCHAR},
      </if>
      <if test="corecompanysupplierrate != null">
        #{corecompanysupplierrate,jdbcType=VARCHAR},
      </if>
      <if test="isfirstfinance != null">
        #{isfirstfinance,jdbcType=VARCHAR},
      </if>
      <if test="securitydeposit != null">
        #{securitydeposit,jdbcType=VARCHAR},
      </if>
      <if test="invoicenumber != null">
        #{invoicenumber,jdbcType=VARCHAR},
      </if>
      <if test="expiringdate != null">
        #{expiringdate,jdbcType=VARCHAR},
      </if>
      <if test="signaturecontent != null">
        #{signaturecontent,jdbcType=BLOB},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable">
    update T_ACCOUNTSPAYABLE
    <set>
      <if test="tenantid != null">
        TENANTID = #{tenantid,jdbcType=VARCHAR},
      </if>
      <if test="contractid != null">
        CONTRACTID = #{contractid,jdbcType=VARCHAR},
      </if>
      <if test="supplierid != null">
        SUPPLIERID = #{supplierid,jdbcType=VARCHAR},
      </if>
      <if test="corecompanyid != null">
        CORECOMPANYID = #{corecompanyid,jdbcType=VARCHAR},
      </if>
      <if test="bankid != null">
        BANKID = #{bankid,jdbcType=VARCHAR},
      </if>
      <if test="billdate != null">
        BILLDATE = #{billdate,jdbcType=VARCHAR},
      </if>
      <if test="amount != null">
        AMOUNT = #{amount,jdbcType=VARCHAR},
      </if>
      <if test="payabledate != null">
        PAYABLEDATE = #{payabledate,jdbcType=VARCHAR},
      </if>
      <if test="createdby != null">
        CREATEDBY = #{createdby,jdbcType=VARCHAR},
      </if>
      <if test="createdon != null">
        CREATEDON = #{createdon,jdbcType=VARCHAR},
      </if>
      <if test="lastmodifiedby != null">
        LASTMODIFIEDBY = #{lastmodifiedby,jdbcType=VARCHAR},
      </if>
      <if test="lastmodifiedon != null">
        LASTMODIFIEDON = #{lastmodifiedon,jdbcType=VARCHAR},
      </if>
      <if test="rowversion != null">
        ROWVERSION = #{rowversion,jdbcType=VARCHAR},
      </if>
      <if test="description != null">
        DESCRIPTION = #{description,jdbcType=VARCHAR},
      </if>
      <if test="lastoperationflag != null">
        LASTOPERATIONFLAG = #{lastoperationflag,jdbcType=VARCHAR},
      </if>
      <if test="financingamount != null">
        FINANCINGAMOUNT = #{financingamount,jdbcType=VARCHAR},
      </if>
      <if test="financingdate != null">
        FINANCINGDATE = #{financingdate,jdbcType=VARCHAR},
      </if>
      <if test="attribute1 != null">
        ATTRIBUTE1 = #{attribute1,jdbcType=VARCHAR},
      </if>
      <if test="attribute2 != null">
        ATTRIBUTE2 = #{attribute2,jdbcType=VARCHAR},
      </if>
      <if test="isactive != null">
        ISACTIVE = #{isactive,jdbcType=VARCHAR},
      </if>
      <if test="payableno != null">
        PAYABLENO = #{payableno,jdbcType=VARCHAR},
      </if>
      <if test="freezeamount != null">
        FREEZEAMOUNT = #{freezeamount,jdbcType=VARCHAR},
      </if>
      <if test="corecompanysupplierrate != null">
        CORECOMPANYSUPPLIERRATE = #{corecompanysupplierrate,jdbcType=VARCHAR},
      </if>
      <if test="isfirstfinance != null">
        ISFIRSTFINANCE = #{isfirstfinance,jdbcType=VARCHAR},
      </if>
      <if test="securitydeposit != null">
        SECURITYDEPOSIT = #{securitydeposit,jdbcType=VARCHAR},
      </if>
      <if test="invoicenumber != null">
        INVOICENUMBER = #{invoicenumber,jdbcType=VARCHAR},
      </if>
      <if test="expiringdate != null">
        EXPIRINGDATE = #{expiringdate,jdbcType=VARCHAR},
      </if>
      <if test="signaturecontent != null">
        SIGNATURECONTENT = #{signaturecontent,jdbcType=BLOB},
      </if>
    </set>
    where URID = #{urid,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable">
    update T_ACCOUNTSPAYABLE
    set TENANTID = #{tenantid,jdbcType=VARCHAR},
      CONTRACTID = #{contractid,jdbcType=VARCHAR},
      SUPPLIERID = #{supplierid,jdbcType=VARCHAR},
      CORECOMPANYID = #{corecompanyid,jdbcType=VARCHAR},
      BANKID = #{bankid,jdbcType=VARCHAR},
      BILLDATE = #{billdate,jdbcType=VARCHAR},
      AMOUNT = #{amount,jdbcType=VARCHAR},
      PAYABLEDATE = #{payabledate,jdbcType=VARCHAR},
      CREATEDBY = #{createdby,jdbcType=VARCHAR},
      CREATEDON = #{createdon,jdbcType=VARCHAR},
      LASTMODIFIEDBY = #{lastmodifiedby,jdbcType=VARCHAR},
      LASTMODIFIEDON = #{lastmodifiedon,jdbcType=VARCHAR},
      ROWVERSION = #{rowversion,jdbcType=VARCHAR},
      DESCRIPTION = #{description,jdbcType=VARCHAR},
      LASTOPERATIONFLAG = #{lastoperationflag,jdbcType=VARCHAR},
      FINANCINGAMOUNT = #{financingamount,jdbcType=VARCHAR},
      FINANCINGDATE = #{financingdate,jdbcType=VARCHAR},
      ATTRIBUTE1 = #{attribute1,jdbcType=VARCHAR},
      ATTRIBUTE2 = #{attribute2,jdbcType=VARCHAR},
      ISACTIVE = #{isactive,jdbcType=VARCHAR},
      PAYABLENO = #{payableno,jdbcType=VARCHAR},
      FREEZEAMOUNT = #{freezeamount,jdbcType=VARCHAR},
      CORECOMPANYSUPPLIERRATE = #{corecompanysupplierrate,jdbcType=VARCHAR},
      ISFIRSTFINANCE = #{isfirstfinance,jdbcType=VARCHAR},
      SECURITYDEPOSIT = #{securitydeposit,jdbcType=VARCHAR},
      INVOICENUMBER = #{invoicenumber,jdbcType=VARCHAR},
      EXPIRINGDATE = #{expiringdate,jdbcType=VARCHAR},
      SIGNATURECONTENT = #{signaturecontent,jdbcType=BLOB}
    where URID = #{urid,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable">
    update T_ACCOUNTSPAYABLE
    set TENANTID = #{tenantid,jdbcType=VARCHAR},
    CONTRACTID = #{contractid,jdbcType=VARCHAR},
    SUPPLIERID = #{supplierid,jdbcType=VARCHAR},
    CORECOMPANYID = #{corecompanyid,jdbcType=VARCHAR},
    BANKID = #{bankid,jdbcType=VARCHAR},
    BILLDATE = #{billdate,jdbcType=VARCHAR},
    AMOUNT = #{amount,jdbcType=VARCHAR},
    PAYABLEDATE = #{payabledate,jdbcType=VARCHAR},
    CREATEDBY = #{createdby,jdbcType=VARCHAR},
    CREATEDON = #{createdon,jdbcType=VARCHAR},
    LASTMODIFIEDBY = #{lastmodifiedby,jdbcType=VARCHAR},
    LASTMODIFIEDON = #{lastmodifiedon,jdbcType=VARCHAR},
    ROWVERSION = #{rowversion,jdbcType=VARCHAR},
    DESCRIPTION = #{description,jdbcType=VARCHAR},
    LASTOPERATIONFLAG = #{lastoperationflag,jdbcType=VARCHAR},
    FINANCINGAMOUNT = #{financingamount,jdbcType=VARCHAR},
    FINANCINGDATE = #{financingdate,jdbcType=VARCHAR},
    ATTRIBUTE1 = #{attribute1,jdbcType=VARCHAR},
    ATTRIBUTE2 = #{attribute2,jdbcType=VARCHAR},
    ISACTIVE = #{isactive,jdbcType=VARCHAR},
    PAYABLENO = #{payableno,jdbcType=VARCHAR},
    FREEZEAMOUNT = #{freezeamount,jdbcType=VARCHAR},
    CORECOMPANYSUPPLIERRATE = #{corecompanysupplierrate,jdbcType=VARCHAR},
    ISFIRSTFINANCE = #{isfirstfinance,jdbcType=VARCHAR},
    SECURITYDEPOSIT = #{securitydeposit,jdbcType=VARCHAR},
    INVOICENUMBER = #{invoicenumber,jdbcType=VARCHAR},
    EXPIRINGDATE = #{expiringdate,jdbcType=VARCHAR}
    where URID = #{urid,jdbcType=VARCHAR}
</update>
    <select id="list" parameterType="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable" resultType="com.ceying.chx.cpi.biz.rm.accountspayable.entity.AccountsPayable">
        select * from (
        select a.*,rownum n from
        (
        select a.* ,b.org_name corecompanyidname,c.org_name supplieridname
        from T_ACCOUNTSPAYABLE a,tsys_organization b ,tsys_organization c
        where  a.corecompanyid=b.org_id and  a.supplierid=c.org_id
        <if test="corecompanyid != null and corecompanyid!=''">
            and a.corecompanyid = #{corecompanyid,jdbcType=VARCHAR}
        </if>
        <if test="supplierid != null and supplierid!=''">
            and a.supplierid = #{supplierid,jdbcType=VARCHAR}
        </if>
        <if test="invoicenumber != null and invoicenumber!=''">
            and a.invoicenumber = #{invoicenumber,jdbcType=VARCHAR}
        </if>
        <if test="contractid != null and contractid!=''">
            and a.contractid = #{contractid,jdbcType=VARCHAR}
        </if>
        <if test="amount != null and amount!=''">
            and a.amount like concat(concat('%',#{amount}),'%')
        </if>
        <if test="billdate != null and billdate!=''">
            and a.billdate = to_date(#{billdate}, 'YYYY/MM/DD' )
        </if>
        <if test="expiringdate != null and expiringdate!=''">
            and a.expiringdate = to_date(#{expiringdate}, 'YYYY/MM/DD' )
        </if>
        <if test="payabledate != null and payabledate!=''">
            and a.payabledate = to_date(#{payabledate}, 'YYYY/MM/DD' )
        </if>
        )a
        where 1=1 and rownum<![CDATA[ <= ]]> #{rows} * #{page}
        )
        where n <![CDATA[ > ]]>(#{page} - 1) * #{rows}

    </select>
    <select id="countTotal" resultType="java.lang.Integer">
        select count(*)
        from T_ACCOUNTSPAYABLE a
        where 1=1
        <if test="corecompanyid != null and corecompanyid!=''">
            and a.corecompanyid = #{corecompanyid,jdbcType=VARCHAR}
        </if>
        <if test="supplierid != null and supplierid!=''">
            and a.supplierid = #{supplierid,jdbcType=VARCHAR}
        </if>
        <if test="invoicenumber != null and invoicenumber!=''">
            and a.invoicenumber = #{invoicenumber,jdbcType=VARCHAR}
        </if>
        <if test="contractid != null and contractid!=''">
            and a.contractid = #{contractid,jdbcType=VARCHAR}
        </if>
        <if test="amount != null and amount!=''">
            and a.amount like concat(concat('%',#{amount}),'%')
        </if>
        <if test="billdate != null and billdate!=''">
            and a.billdate = to_date(#{billdate}, 'YYYY/MM/DD' )
        </if>
        <if test="expiringdate != null and expiringdate!=''">
            and a.expiringdate = to_date(#{expiringdate}, 'YYYY/MM/DD' )
        </if>
        <if test="payabledate != null and payabledate!=''">
            and a.payabledate = to_date(#{payabledate}, 'YYYY/MM/DD' )
        </if>
    </select>
</mapper>